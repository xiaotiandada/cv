q: tx ty 什么意思，解释一下计算方法

a:

`tx` 和 `ty` 分别表示当前位置 `(i, j)` 相邻的上下左右位置。在这个程序中，`dx` 和 `dy` 分别数组表示相邻位置在行和列上的偏移量，例如 `dx[0] = 0`，`dy[0] = 1`，表示 `(i, j)` 相邻的右边位置是 `(i, j+1)`。

在遍历整个二维网格时，对于每一个元素，我们检查它是否为陆地，如果是陆地，我们依次检查它相邻的上下左右四个方向的情况，如果这条边是该网格的边界或者它相邻的另一个格子是水域（相当于网格中的边缘），那么我们就可以认为这些方块之间有一条边界需要被计算在周长中，这就是计算答案的方法，最后答案就是所有边长之和。

具体地，分别可以通过 `(i + dx[k], j + dy[k])` 计算出它相邻格子的位置 `(tx, ty)`，并判断是否超出了网格的边界、或这个位置上是否是水域（即 `grid[tx][ty] == 0`），如果是，则当前位置上存在一个边界，即周长要加 1。循环检查四个方向，计算出这个陆地四周有几个水域，即四条边分别是否需要被加上，最后返回答案即可。

<br />

q: dx dy 什么意思

a:

`dx` 和 `dy` 是一个长度为 4 的数组，用于在二维网格中表示一个位置的上下左右位置。

其中，`dx` 表示上下位置的偏移量，`dy` 表示左右位置的偏移量。例如，`dx[0] = -1, dy[0] = 0` 表示一个位置的上方位置是 `(i-1, j)`，同时 `dx[1] = 0, dy[1] = 1` 表示一个位置的右方位置是 `(i, j+1)`。

在算法中，我们可以根据当前位置 `(i,j)` 和数组 `dx,dy` 来获取它四周的上下左右位置。例如，如果我们希望访问 `(i,j)` 的左方位置，可以使用 `(i+dx[2], j+dy[2])` 获取到，其中 `dx[2]` 和 `dy[2]` 分别表示它左侧位置相对于 `(i,j)` 的行偏移和列偏移。

<br />

q: 再详细解释一下并给出例子

a:

在二维网格中，一个位置 `(i,j)` 在上下左右的方向上分别有四个相邻位置，为了表示它们的位置，我们可以使用偏移量 `dx` 和 `dy`。

具体地，数组 `dx` 和 `dy` 长度均为 4，分别表示当前位置 `(i,j)` 上下左右四个方向相邻位置的行和列偏移量。例如，偏移量数组的定义可以如下：

```cpp
constexpr static int dx[4] = {-1, 0, 1, 0};  // 上下偏移量
constexpr static int dy[4] = {0, 1, 0, -1};  // 左右偏移量
```

这里的 `-1, 0, 1` 表示上下方向的偏移量，`0, 1, -1` 表示左右方向的偏移量。每个元素对应的偏移量如下所示：

```
 dx[0],dy[0]  (-1,0)  dx[1],dy[1]  (0,1)
       ^                 |                ^
       |                 |                |
sx,sy--|--(i,j)--dx[2],dy[2]---|---> ex,ey
       |                 |                |
       v                 v                |
 dx[3],dy[3]  (1,0)   dx[4],dy[4]  (0,-1) |
                                            |
                                          wx,wy
```

在上图中，`(i,j)` 表示当前位置，其中 sx、sy、ex、ey 分别代表了网格的起始行、起始列、结束行、结束列。在这里，我们定义 `dx[0] = -1, dy[0] = 0` 表示向上的偏移量（即 sx）, `dx[1] = 0, dy[1] = 1` 表示向右的偏移量（即 ey）, 以此类推，所有的偏移量都是相对于当前位置 `(i,j)` 的。这么做可以使得在遍历二维网格时，我们可以直接通过 `dx` 和 `dy` 数组获取当前位置的相邻位置，而不必再进行大量的判断和计算。

例如，如果我们想要获取 `(i,j)` 上方的位置，可以直接使用 `(i+dx[0], j+dy[0])` 获取到，即 `(i-1, j)`，如果我们想要获取右上角的位置，则可以使用 `(i+dx[0], j+dy[1])` 获取到，即 `(i-1, j+1)`。

<br />

q: dx[4] = {-1, 0, 1, 0} 里面的四个参数什么意思

a:

`dx[4] = {-1, 0, 1, 0}` 表示一个长度为 4 的数组，用于在二维网格中表示一个位置的上下左右位置。

具体来说，`dx` 数组的四个元素分别表示当前位置的相邻位置在上下左右四个方向上相对当前位置的行偏移量。其中：

- `dx[0] = -1` 表示向上方向的偏移量是 -1，即上方相邻位置的行坐标比当前位置的行坐标小 1；
- `dx[1] = 0` 表示向右方向的偏移量是 0，即右方相邻位置的列坐标和当前位置的列坐标相同；
- `dx[2] = 1` 表示向下方向的偏移量是 1，即下方相邻位置的行坐标比当前位置的行坐标大 1；
- `dx[3] = 0` 表示向左方向的偏移量是 0，即左方相邻位置的列坐标和当前位置的列坐标相同。

同理，`dy[4] = {0, 1, 0, -1}` 数组的四个元素分别表示当前位置的相邻位置在上下左右四个方向上相对于当前位置的列偏移量。

这种方法用偏移量的方式表示四个方向的相邻位置是很常用的，因为这种表示方法不仅简单明了，而且具有很好的可扩展性，例如如果需要处理八个方向的相邻位置，只需要把偏移量从四个扩展到八个即可。

<br />

q: 这段什么意思 tx < 0 || tx >= n || ty < 0 || ty >= m || !grid[tx][ty]

a:

这段语句是遍历网格时，判断当前位置 `(x,y)` 的相邻位置 `(tx,ty)` 是否越界或者是否为海洋的语句，其中：

- `tx < 0` 表示相邻位置的行坐标小于 0，即越界了；
- `tx >= n` 表示相邻位置的行坐标大于或等于网格的行数 n，即越界了；
- `ty < 0` 表示相邻位置的列坐标小于 0，即越界了；
- `ty >= m` 表示相邻位置的列坐标大于或等于网格的列数 m，即越界了；
- `!grid[tx][ty]` 表示相邻位置 `(tx, ty)` 是海洋，即没有岛屿。

如果遍历过程中满足以上任意一个条件，就表示相邻位置 `(tx,ty)` 不合法，需要跳过，进而进行下一个相邻位置的判断。因为这时的相邻位置可能越界，也可能是海洋，如果继续判断会出现错误，所以需要跳过。

<br />

q: 在四次边的循环过程 tx ty 会是什么值

a:

在四次边的循环过程中，`tx` 和 `ty` 代表当前位置 `(x,y)` 的四个相邻位置的行列坐标，具体取值如下：

- 第一次循环：`tx = x-1, ty = y`，表示当前位置的上方相邻位置；
- 第二次循环：`tx = x, ty = y+1`，表示当前位置的右方相邻位置；
- 第三次循环：`tx = x+1, ty = y`，表示当前位置的下方相邻位置；
- 第四次循环：`tx = x, ty = y-1`，表示当前位置的左方相邻位置。

这四个相邻位置的顺序是固定的，可以用 `dx[4]` 和 `dy[4]` 两个数组来定义相邻位置的行列坐标偏移量，如下所示：

```
dx[4] = {-1, 0, 1, 0}
dy[4] = {0, 1, 0, -1}
```

在四次循环过程中，`tx` 和 `ty` 的取值就是根据 `dx` 和 `dy` 数组来计算得出的，具体如下所示：

```
tx = x + dx[i]
ty = y + dy[i]
```

其中 `i` 表示当前循环的次数，取值范围是 0 到 3，对应四个相邻位置。
